<div class="settings-container">
  <div class="settings-card">
    <h2>Profile Settings</h2>
    <p class="description">Update your profile information below.</p>

    <form [formGroup]="settingsForm" (ngSubmit)="onSubmit()" class="settings-form">
      <div class="form-group">
        <label for="username" class="form-label">Username</label>
        <input
          type="text"
          id="username"
          formControlName="username"
          class="form-control"
          [class.invalid]="isFieldInvalid('username')"
          placeholder="Enter your username"
        />
        <div class="error-message" *ngIf="isFieldInvalid('username')">
          {{ getErrorMessage('username') }}
        </div>
      </div>

      <div class="form-group">
        <label for="firstName" class="form-label">First Name</label>
        <input
          type="text"
          id="firstName"
          formControlName="firstName"
          class="form-control"
          [class.invalid]="isFieldInvalid('firstName')"
          placeholder="Enter your first name"
        />
        <div class="error-message" *ngIf="isFieldInvalid('firstName')">
          {{ getErrorMessage('firstName') }}
        </div>
      </div>

      <div class="form-group">
        <label for="lastName" class="form-label">Last Name</label>
        <input
          type="text"
          id="lastName"
          formControlName="lastName"
          class="form-control"
          [class.invalid]="isFieldInvalid('lastName')"
          placeholder="Enter your last name"
        />
        <div class="error-message" *ngIf="isFieldInvalid('lastName')">
          {{ getErrorMessage('lastName') }}
        </div>
      </div>

      <div class="form-group">
        <label for="avatar" class="form-label">Avatar URL</label>
        <input
          type="url"
          id="avatar"
          formControlName="avatar"
          class="form-control"
          placeholder="Enter avatar image URL"
        />
        <div class="help-text">Enter a URL for your profile picture</div>
      </div>

      <div class="form-group">
        <label for="coverPhoto" class="form-label">Cover Photo URL</label>
        <input
          type="url"
          id="coverPhoto"
          formControlName="coverPhoto"
          class="form-control"
          placeholder="Enter cover photo URL"
        />
        <div class="help-text">Enter a URL for your cover photo</div>
      </div>

      <div class="form-group">
        <label for="bio" class="form-label">Bio</label>
        <textarea
          id="bio"
          formControlName="bio"
          class="form-control"
          rows="4"
          placeholder="Tell people about yourself..."
        ></textarea>
        <div class="help-text">Write a short bio about yourself</div>
      </div>

      <div class="message-container">
        <div class="success-message" *ngIf="successMessage">
          {{ successMessage }}
        </div>
        <div class="error-message" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>
      </div>

      <button
        type="submit"
        class="submit-btn"
        [disabled]="settingsForm.invalid || isLoading"
      >
        <span *ngIf="!isLoading">Update Profile</span>
        <span *ngIf="isLoading" class="loading-spinner">
          <svg class="spinner" viewBox="0 0 50 50">
            <circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
          </svg>
          Updating...
        </span>
      </button>
    </form>
  </div>
</div>
